#include "malware_file_renamer.h"



// Функция генерации случайного 16-ричного имени
QString malwareFileRenamer::generateRandomName() {
    const QString possibleCharacters = "0123456789abcdef";
    QString randomName;
    for (int i = 0; i < 32; ++i) {
        randomName += possibleCharacters[QRandomGenerator::global()->generate() % possibleCharacters.length()];
    }
    return randomName;
}



// Функция переименования файлов в папке
void renameFilesInDirectory(const QString& directoryPath) {
    QDir directory(directoryPath);
    if (!directory.exists()) return;

    const QFileInfoList files = directory.entryInfoList(QDir::Files);
    for (const QFileInfo& fileInfo : files) {
        const QString newFileName = generateRandomName();
        const QString newFilePath = directoryPath + "/" + newFileName;
        QFile::rename(fileInfo.filePath(), newFilePath);
    }
}
