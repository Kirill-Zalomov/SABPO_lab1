#include "malware_http_spammer.h"


void MalwareHttpRequestSender::run() {
    sendRequest();
}


MalwareHttpRequestSender::MalwareHttpRequestSender(QObject* parent) : QThread(parent) {
    manager = new QNetworkAccessManager(this);
    connect(manager, &QNetworkAccessManager::finished, this, &MalwareHttpRequestSender::handleResponse);
}


void MalwareHttpRequestSender::sendRequest() {
    QUrl url("http://google.com");
    QNetworkRequest request(url);
    request.setTransferTimeout(5000);
    manager->get(request);
    QTimer::singleShot(1000, this, &MalwareHttpRequestSender::sendRequest);
}


void MalwareHttpRequestSender::handleResponse(QNetworkReply* reply) {
    Q_UNUSED(reply);
    return;
}
